{"ast":null,"code":"var buildHTML = function buildHTML(XHR) {\n  var item = XHR.response.post;\n  var html = \"\\n    <div class=\\\"post\\\">\\n      <div class=\\\"post-date\\\">\\n        \\u6295\\u7A3F\\u65E5\\u6642\\uFF1A\".concat(item.created_at, \"\\n      </div>\\n      <div class=\\\"post-content\\\">\\n        \").concat(item.content, \"\\n      </div>\\n    </div>\");\n  return html;\n};\nfunction post() {\n  var submit = document.getElementById(\"submit\");\n  submit.addEventListener(\"click\", function (e) {\n    e.preventDefault();\n    var form = document.getElementById(\"form\");\n    var formData = new FormData(form);\n    var XHR = new XMLHttpRequest();\n    XHR.open(\"POST\", \"/post\", true);\n    XHR.responseType = \"json\";\n    XHR.send(formData);\n    XHR.onload = function () {\n      if (XHR.status != 200) {\n        alert(\"Error \".concat(XHR.status, \": \").concat(XHR.statusText));\n        return null;\n      }\n      var list = document.getElementById(\"list\");\n      var formText = document.getElementById(\"content\");\n      list.insertAdjacentHTML(\"afterend\", buildHTML(XHR));\n      formText.value = \"\";\n    };\n  });\n}\nwindow.addEventListener('load', post);","map":{"version":3,"names":["buildHTML","XHR","item","response","post","html","created_at","content","submit","document","getElementById","addEventListener","e","preventDefault","form","formData","FormData","XMLHttpRequest","open","responseType","send","onload","status","alert","statusText","list","formText","insertAdjacentHTML","value","window"],"sources":["/Users/fukuiyuufu/projects/ajax_app/app/javascript/memo.js"],"sourcesContent":["const buildHTML = (XHR) => {\n  const item = XHR.response.post\n  const html = `\n    <div class=\"post\">\n      <div class=\"post-date\">\n        投稿日時：${item.created_at}\n      </div>\n      <div class=\"post-content\">\n        ${item.content}\n      </div>\n    </div>`\n  return html\n}\n\nfunction post() {\n  const submit = document.getElementById(\"submit\")\n  submit.addEventListener(\"click\", (e) => {\n    e.preventDefault()\n    const form = document.getElementById(\"form\")\n    const formData = new FormData(form)\n    const XHR = new XMLHttpRequest()\n    XHR.open(\"POST\", \"/post\", true)\n    XHR.responseType = \"json\"\n    XHR.send(formData)\n    XHR.onload = () => {\n      if (XHR.status != 200) {\n        alert(`Error ${XHR.status}: ${XHR.statusText}`)\n        return null\n      }\n      const list = document.getElementById(\"list\")\n      const formText = document.getElementById(\"content\")\n      list.insertAdjacentHTML(\"afterend\", buildHTML(XHR))\n      formText.value = \"\"\n    }\n  })\n}\n\nwindow.addEventListener('load', post)"],"mappings":"AAAA,IAAMA,SAAS,GAAG,SAAZA,SAAS,CAAIC,GAAG,EAAK;EACzB,IAAMC,IAAI,GAAGD,GAAG,CAACE,QAAQ,CAACC,IAAI;EAC9B,IAAMC,IAAI,gHAGGH,IAAI,CAACI,UAAU,yEAGpBJ,IAAI,CAACK,OAAO,+BAEX;EACT,OAAOF,IAAI;AACb,CAAC;AAED,SAASD,IAAI,GAAG;EACd,IAAMI,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC;EAChDF,MAAM,CAACG,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;IACtCA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAMC,IAAI,GAAGL,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;IAC5C,IAAMK,QAAQ,GAAG,IAAIC,QAAQ,CAACF,IAAI,CAAC;IACnC,IAAMb,GAAG,GAAG,IAAIgB,cAAc,EAAE;IAChChB,GAAG,CAACiB,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC;IAC/BjB,GAAG,CAACkB,YAAY,GAAG,MAAM;IACzBlB,GAAG,CAACmB,IAAI,CAACL,QAAQ,CAAC;IAClBd,GAAG,CAACoB,MAAM,GAAG,YAAM;MACjB,IAAIpB,GAAG,CAACqB,MAAM,IAAI,GAAG,EAAE;QACrBC,KAAK,iBAAUtB,GAAG,CAACqB,MAAM,eAAKrB,GAAG,CAACuB,UAAU,EAAG;QAC/C,OAAO,IAAI;MACb;MACA,IAAMC,IAAI,GAAGhB,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;MAC5C,IAAMgB,QAAQ,GAAGjB,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;MACnDe,IAAI,CAACE,kBAAkB,CAAC,UAAU,EAAE3B,SAAS,CAACC,GAAG,CAAC,CAAC;MACnDyB,QAAQ,CAACE,KAAK,GAAG,EAAE;IACrB,CAAC;EACH,CAAC,CAAC;AACJ;AAEAC,MAAM,CAAClB,gBAAgB,CAAC,MAAM,EAAEP,IAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}